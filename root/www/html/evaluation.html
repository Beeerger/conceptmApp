<!DOCTYPE html>
<html>
    <head> 
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title>Evaluation</title>

    </head>

    <body>
  <!-------------------START pie menu stuff ----------------------->
  <!-- this is basically a copy from the editors -->
  <!-- import for the canvas stylisation -->
  <link rel="stylesheet" href="../css/evaluation.css" media="screen"/>

  <!--for the add menu we use some form of pie-popup-menu in the upper left corner-->

  <!-- pie1-3 are the three pi parts of the menu, from bottom left to top right -->
  <div class="pie pie1" onclick="document.body.classList.remove('active'); addButtonPressed()">
    <div class="pie-color pie-color1">
      <!-- first, the add node button -->
      <svg class="addIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="100" height="100">
        <g data-name="addIcon">
          <path d="M16 31a15 15 0 1 1 15-15 15 15 0 0 1-15 15zm0-28a13 13 0 1 0 13 13A13 13 0 0 0 16 3z" fill="#fff" />
          <path
            d="M17 24h-2a2 2 0 0 1-2-2v-3h-3a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h3v-3a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3v3a2 2 0 0 1-2 2zm-7-9v2h4a1 1 0 0 1 1 1v4h2v-4a1 1 0 0 1 1-1h4v-2h-4a1 1 0 0 1-1-1v-4h-2v4a1 1 0 0 1-1 1z"
            fill="#fff" />
        </g>
      </svg>
    </div>
  </div>

  <div class="pie pie2" onclick="document.body.classList.remove('active'); cameraButtonPressed()">
    <div class="pie-color pie-color2">
      <!-- then, the camera button -->
      <svg class="cameraIcon" xmlns="http://www.w3.org/2000/svg" viewBox="-10 -30 36 56">
        <path
          d="M21.65 3c-1.45 0-1.86.91-3.73 3.24A4 4 0 0 0 14 3H4a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 3.92-3.24l1.89 2.36A2.36 2.36 0 0 0 24 18.65V5.35A2.35 2.35 0 0 0 21.65 3zM16 17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2zm6 1.65a.36.36 0 0 1-.62.22L18 14.65v-5.3l3.38-4.22a.36.36 0 0 1 .62.22z"
          fill="#fff" />

      </svg>
    </div>
  </div>
  <div class="pie pie3" onclick="document.body.classList.remove('active'); deleteButtonPressed()">
    <div class="pie-color pie-color3">
      <!-- last, the delete button -->
      <svg class="deleteIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="100" height="100">
        <path
          d="M6 7a1 1 0 0 1 1 1v11a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8a1 1 0 1 1 2 0v11a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V8a1 1 0 0 1 1-1z"
          fill="#fff" />
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M10 8a1 1 0 0 1 1 1v8a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1zM14 8a1 1 0 0 1 1 1v8a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1zM4 5a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zM8 3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1z"
          fill="#fff" />
      </svg>
    </div>
  </div>
  <!-- main menu icon -->
  <div class="menu" onclick="document.body.classList.toggle('active')">
    <svg class="hamburger" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
      <g fill="none" stroke="#fff" stroke-width="7.999" stroke-linecap="round">
        <path d="M 55,26.000284 L 24.056276,25.999716" />
        <path d="M 24.056276,49.999716 L 75.943724,50.000284" />
        <path d="M 45,73.999716 L 75.943724,74.000284" />
        <path d="M 75.943724,26.000284 L 45,25.999716" />
        <path d="M 24.056276,73.999716 L 55,74.000284" />
      </g>
    </svg>
  </div>
  <!------------------- Interface functions for the pie menu ----------------------->

  <script> //write here what should happen when one of the pie-menu button are getting pressed
    function addButtonPressed() {
      console.log("[UI] [EVAL] addButton pressed")
      //eval.importResultFromQr();
      eval.importTestResult(); //left here for some easy debugging
    }

    function cameraButtonPressed() {
      console.log("[UI] [EVAL] cameraButton pressed")
      eval.exportResultsToQr()
    }

    function deleteButtonPressed() {
      console.log("[UI] [EVAL] deleteButton pressed")
      eval.resetOutput();    
      //graph.resetGraph(); //not needed atm
    }

  </script>

  <!---------------------------- END ui menu stuff -------------------------------->

 

  </div>
      
      <div class="box">
        <div class="row header">
        <fieldset style="text-align: center;">
          <label for= "taskName"> Task Name </label>
          <input type="text" id="taskName" placeholder="Name"/> <br><br>  
        Maps scanned: <span id="mapsScanned"></span>

        <select name="Graph type" id="type-select" onchange = "changeContent()">
          <option value="nodes"> nodesPercentage</option>
          <option value="edges"> edgesPercentage</option>
          <option value="correctEdges"> correctEdgesPercentage</option>
        </select>

        </fieldset>

      </div>

        <div class="row content" style="height: 50%; width: 100%">
          <!-- here would sit the barchart with the visualized content -->
          <!-- <canvas id="myChart"></canvas> -->

          <!-- instead we have some simple indicators for the values -->

          <div id="nodesPercentageDiv" style="display: none">
            nodesPercentage: <span id="nodesPercentage"></span>
          </div>

          <div id="edgesPercentageDiv" style="display: none">
            edgesPercentage: <span id="edgesPercentage"></span>
          </div>

          <div id="correctEdgesPercentageDiv" style="display: none">
            correctEdgesPercentage: <span id="correctEdgesPercentage"></span>
          </div>

        </div>

        <!-- footer not needed atm -->
        <!-- <div  class="row footer" id="button_container"> -->
      </div>

  </div>
      <script source = "jquery-3.6.1.min.js"></script>
      <script type='text/javascript' src = "../js/vis_network.js">  // network implementation </script>
      <script type='text/javascript' src = "../js/qrscanner.js">    // qr code implementation </script>
      <script type='text/javascript' src = "../js/evaluation.js">  // evaluation implementation </script>
      
      <!-- Here lays some script for the graph implementation -->
      <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
      <!-- <script type='text/javascript' src="chartjs/dist/chart.umd.js"></script> -->

      <script type='module' src = "../js/evaluation_graph.js">  // graph implementation </script>
      
      <!-- here the evaluation methods -->
      <script>
        //var graph = new EvaluationGraph(false);
        var eval = new Evaluation(false);

      </script>

      <!-- here lays some extra js code for the .html, that does not handle the core evaluation functionality -->
      <script>

        function changeContent() {
          
          let nodesContent = document.getElementById("nodesPercentageDiv");
          let edgesContent = document.getElementById("edgesPercentageDiv");
          let correctEdgesContent = document.getElementById("correctEdgesPercentageDiv");
          eraseEverything();
          let selectedOption = document.getElementById("type-select").value;

          switch(selectedOption){
            case "nodes":
              nodesContent.style.display = "block";
              break
            case "edges": 
              edgesContent.style.display = "block";
              break
            case "correctEdges":
              correctEdgesContent.style.display = "block";
            break
          }

          function eraseEverything() {
              
            let nodesContent = document.getElementById("nodesPercentageDiv");
            let edgesContent = document.getElementById("edgesPercentageDiv");
            let correctEdgesContent = document.getElementById("correctEdgesPercentageDiv");

            nodesContent.style.display = "none";
            edgesContent.style.display = "none";
            correctEdgesContent.style.display = "none";
          }
        }

      </script>

        <!-- black magic, very important, such danger -->
        <script type="text/javascript" src="../cordova.js"></script>

    </body>
</html>